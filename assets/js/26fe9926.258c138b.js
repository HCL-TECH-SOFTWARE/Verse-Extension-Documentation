"use strict";(self.webpackChunkverse_developer=self.webpackChunkverse_developer||[]).push([[422],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return u}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=s(n),u=i,h=c["".concat(p,".").concat(u)]||c[u]||m[u]||r;return n?a.createElement(h,o(o({ref:t},d),{},{components:n})):a.createElement(h,o({ref:t},d))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=c;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var s=2;s<r;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},9426:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return p},default:function(){return u},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return m}});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),o=["components"],l={id:"domino-server-deployment",title:"Domino Server Deployment"},p=void 0,s={unversionedId:"domino-server-deployment",id:"domino-server-deployment",title:"Domino Server Deployment",description:"If you do not have a deployment ready application, you should take a look at the example applications for reference or the extension docs to start your own.",source:"@site/docs/domino-server-deployment.md",sourceDirName:".",slug:"/domino-server-deployment",permalink:"/Verse-Extension-Documentation/docs/domino-server-deployment",tags:[],version:"current",frontMatter:{id:"domino-server-deployment",title:"Domino Server Deployment"},sidebar:"docs",previous:{title:"Ready to Deploy?",permalink:"/Verse-Extension-Documentation/docs/ready-to-deploy"},next:{title:"What is a Verse Extension?",permalink:"/Verse-Extension-Documentation/docs/what-is-an-extension"}},d={},m=[{value:"Your Application",id:"your-application",level:2},{value:"Application Properties",id:"application-properties",level:3},{value:"When to use the built-in endpoint",id:"when-to-use-the-built-in-endpoint",level:2},{value:"Local File Data Provider",id:"local-file-data-provider",level:3},{value:"Hosted File Data Provider",id:"hosted-file-data-provider",level:3},{value:"When to use the custom endpoint",id:"when-to-use-the-custom-endpoint",level:2},{value:"Example Response Data",id:"example-response-data",level:3},{value:"Notes.ini Parameter Overview",id:"notesini-parameter-overview",level:2}],c={toc:m};function u(e){var t=e.components,n=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"If you do not have a deployment ready application, you should take a look at the ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"../getting-started"},"example applications"))," for reference or the ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"../what-is-an-extension"},"extension docs"))," to start your own."),(0,r.kt)("h2",{id:"your-application"},"Your Application"),(0,r.kt)("p",null,"All applications should be stored in a file ",(0,r.kt)("inlineCode",{parentName:"p"},"applications.json")," with the following structure:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'[\n  {\n    "name": "App1",\n    "title": "Sample Application",\n    "description": "A sample app to extend Verse",\n    "extensions": [],\n    "services": ["Verse"]\n  },\n  {\n    "name": "App2",\n    ......\n  }\n]\n')),(0,r.kt)("h3",{id:"application-properties"},"Application Properties"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"name"),(0,r.kt)("td",{parentName:"tr",align:null},"the name of the application (must be unique)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"title"),(0,r.kt)("td",{parentName:"tr",align:null},"the title of your application")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"description"),(0,r.kt)("td",{parentName:"tr",align:null},"a description of what the application should do")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"extensions"),(0,r.kt)("td",{parentName:"tr",align:null},"an array of extension definitions (",(0,r.kt)("a",{parentName:"td",href:"../what-is-an-extension"},"What is an Extension?"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"services"),(0,r.kt)("td",{parentName:"tr",align:null},"an array of services the extension is deployed to. ",(0,r.kt)("strong",{parentName:"td"},'All HCL Verse extensions should include "Verse" as a supported service'))))),(0,r.kt)("p",null,"Production ready, HCL Verse applications should be deployed to Domino. There are two different methods of deployment:  "),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"using the built-in endpoint"),(0,r.kt)("li",{parentName:"ol"},"using a custom endpoint")),(0,r.kt)("h2",{id:"when-to-use-the-built-in-endpoint"},"When to use the built-in endpoint"),(0,r.kt)("p",null,"HCL Verse on premises exposes a built-in endpoint to serve an application and should be used if the application does not need to be dynamically loaded (the applications JSON is a static file). The ",(0,r.kt)("inlineCode",{parentName:"p"},"applications.json")," can either be loaded as a ",(0,r.kt)("strong",{parentName:"p"},"local file")," on the Domino server via path name or served as a ",(0,r.kt)("strong",{parentName:"p"},"hosted file")," via HTTP. The ",(0,r.kt)("inlineCode",{parentName:"p"},"VOP_Extensibility_Data_Provider_Name")," notes.ini parameter specifies which data provider should be used and can be set to ",(0,r.kt)("inlineCode",{parentName:"p"},"localFileProvider")," (",(0,r.kt)("strong",{parentName:"p"},"default"),") or ",(0,r.kt)("inlineCode",{parentName:"p"},"httpDataProvider"),". ",(0,r.kt)("em",{parentName:"p"},"The data provider will periodically check the source applications.json file for updates, so you don\u2019t have to restart the server after a new version of applications.json is deployed.")),(0,r.kt)("h3",{id:"local-file-data-provider"},"Local File Data Provider"),(0,r.kt)("p",null,"Serving applications locally is easy to do with the localFileProvider. Steps to deploy:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Deploy the ",(0,r.kt)("inlineCode",{parentName:"li"},"applications.json")," file to ",(0,r.kt)("strong",{parentName:"li"},"Domino")),(0,r.kt)("li",{parentName:"ol"},"Set ",(0,r.kt)("inlineCode",{parentName:"li"},"VOP_Extensibility_Data_Provider_Name")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"localFileProvider")," or leave it blank since it defaults to the desired setting"),(0,r.kt)("li",{parentName:"ol"},"Specify the ",(0,r.kt)("strong",{parentName:"li"},"path")," to the applications JSON with the notes.ini parameter: ",(0,r.kt)("inlineCode",{parentName:"li"},"VOP_Extensibility_Applications_Json_FilePath=D:\\example\\applications.json"))),(0,r.kt)("h3",{id:"hosted-file-data-provider"},"Hosted File Data Provider"),(0,r.kt)("p",null,"Alternatively, the applications JSON can be served via an HTTP server. Steps to deploy:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Deploy the ",(0,r.kt)("inlineCode",{parentName:"li"},"applications.json")," file to the ",(0,r.kt)("strong",{parentName:"li"},"HTTP server")),(0,r.kt)("li",{parentName:"ol"},"Set ",(0,r.kt)("inlineCode",{parentName:"li"},"VOP_Extensibility_Data_Provider_Name")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"httpDataProvider")),(0,r.kt)("li",{parentName:"ol"},"Specify the ",(0,r.kt)("strong",{parentName:"li"},"HTTP URL")," to the applications JSON with the notes.ini parameter: ",(0,r.kt)("inlineCode",{parentName:"li"},"VOP_Extensibility_Applications_Json_URL=https://example.com/vop/applications.json"))),(0,r.kt)("h2",{id:"when-to-use-the-custom-endpoint"},"When to use the custom endpoint"),(0,r.kt)("p",null,"Sometimes it might be useful to dynamically serve applications using code. If that is the case, then you will need to implement and use a custom endpoint. It is important to note that the endpoint response format must match, exactly, that of the ",(0,r.kt)("a",{parentName:"p",href:"../domino-server-deployment#example-response-data"},"HCL Connections Appregistry API"),". Otherwise, Verse may be unable to parse the information. Steps to deploy:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Configure custom endpoint should serve the response data"),(0,r.kt)("li",{parentName:"ol"},"Specify the ",(0,r.kt)("strong",{parentName:"li"},"URL")," of the custom endpoint with the notes.ini parameter: ",(0,r.kt)("inlineCode",{parentName:"li"},"VOP_Extensibility_Endpoint_URL=https://rest.example.com/vop/appregistry/services/Verse/applications"))),(0,r.kt)("h3",{id:"example-response-data"},"Example Response Data"),(0,r.kt)("p",null,"The items attribute of the response is an array of the applications defined in the ",(0,r.kt)("inlineCode",{parentName:"p"},"applications.json"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'{\n  /* The items list contains ALL registered applications and extensions */\n  // highlight-start\n  "items": [\n    {\n      "name": "App1",\n      "services": ["Verse"],\n      "extensions": [\n        {\n          /* Extensions */\n        }\n      ]\n    },\n    {\n      "name": "App2",\n      ......\n    }\n  ]\n  // highlight-end\n  "offset": 0,\n  "limit": 0,\n  "href": "/vop/appregistry/services/Verse/applications?offset=0&limit=0",\n  "first": {\n    "href": "/vop/appregistry/services/Verse/applications?offset=0&limit=0"\n  },\n  "prev": {\n    "href": "/vop/appregistry/services/Verse/applications?offset=0&limit=0"\n  },\n  "next": {\n    "href": "/vop/appregistry/services/Verse/applications?offset=0&limit=0"\n  },\n  "last": {\n    "href": "/vop/appregistry/services/Verse/applications?offset=0&limit=0"\n  },\n}\n')),(0,r.kt)("h2",{id:"notesini-parameter-overview"},"Notes.ini Parameter Overview"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Values"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"VOP_Extensibility_Data_Provider_Name"),(0,r.kt)("td",{parentName:"tr",align:null},"directs domino where to locate the ",(0,r.kt)("inlineCode",{parentName:"td"},"applications.js")," when using the built-in endpoint"),(0,r.kt)("td",{parentName:"tr",align:null},'"localFileProvider", "httpDataProvider"'),(0,r.kt)("td",{parentName:"tr",align:null},'"localFileProvider"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"VOP_Extensibility_Applications_Json_FilePath"),(0,r.kt)("td",{parentName:"tr",align:null},"a path to the ",(0,r.kt)("inlineCode",{parentName:"td"},"applications.json")," on the domino server"),(0,r.kt)("td",{parentName:"tr",align:null},"{String} filePath"),(0,r.kt)("td",{parentName:"tr",align:null},"N/A")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"VOP_Extensibility_Applications_Json_URL"),(0,r.kt)("td",{parentName:"tr",align:null},"an HTTP URL to where the `applications.json`` is served"),(0,r.kt)("td",{parentName:"tr",align:null},"{String} URL"),(0,r.kt)("td",{parentName:"tr",align:null},"N/A")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"VOP_Extensibility_Endpoint_URL"),(0,r.kt)("td",{parentName:"tr",align:null},"an custom endpoint URL where configured, application, response data can be retrieved"),(0,r.kt)("td",{parentName:"tr",align:null},"{String} URL"),(0,r.kt)("td",{parentName:"tr",align:null},"N/A")))))}u.isMDXComponent=!0}}]);