<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<title data-react-helmet="true">Modify On Send | Verse Developer</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Modify On Send | Verse Developer"><meta data-react-helmet="true" name="description" content="With an User Interface"><meta data-react-helmet="true" property="og:description" content="With an User Interface"><meta data-react-helmet="true" property="og:url" content="https://opensource.hcltechsw.com//Verse-Extension-Documentation/docs/modify-on-send"><link data-react-helmet="true" rel="shortcut icon" href="/Verse-Extension-Documentation/img/mail-192.png"><link data-react-helmet="true" rel="canonical" href="https://opensource.hcltechsw.com//Verse-Extension-Documentation/docs/modify-on-send"><link rel="stylesheet" href="/Verse-Extension-Documentation/styles.107434c6.css">
<link rel="preload" href="/Verse-Extension-Documentation/styles.01ac276e.js" as="script">
<link rel="preload" href="/Verse-Extension-Documentation/runtime~main.cc8656d6.js" as="script">
<link rel="preload" href="/Verse-Extension-Documentation/main.07577cd7.js" as="script">
<link rel="preload" href="/Verse-Extension-Documentation/1.3a0be603.js" as="script">
<link rel="preload" href="/Verse-Extension-Documentation/2.6e56d22d.js" as="script">
<link rel="preload" href="/Verse-Extension-Documentation/30.aaa63450.js" as="script">
<link rel="preload" href="/Verse-Extension-Documentation/31.6d8972bd.js" as="script">
<link rel="preload" href="/Verse-Extension-Documentation/2e928210.9ef936af.js" as="script">
<link rel="preload" href="/Verse-Extension-Documentation/17896441.5e24f860.js" as="script">
<link rel="preload" href="/Verse-Extension-Documentation/660c643c.f2248d14.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/Verse-Extension-Documentation/"><img class="navbar__logo" src="/Verse-Extension-Documentation/img/mail-192.png" alt="HCL Verse"><strong class="navbar__title">HCL Verse</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/Verse-Extension-Documentation/docs/introduction">Documentation</a><a class="navbar__item navbar__link" href="/Verse-Extension-Documentation/docs/getting-started">Tutorials and Examples</a><a class="navbar__item navbar__link" href="/Verse-Extension-Documentation/docs/faq">FAQ</a><a class="navbar__item navbar__link" href="/Verse-Extension-Documentation/docs/resources">Resources</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/Verse-Extension-Documentation/"><img class="navbar__logo" src="/Verse-Extension-Documentation/img/mail-192.png" alt="HCL Verse"><strong class="navbar__title">HCL Verse</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/Verse-Extension-Documentation/docs/introduction">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/Verse-Extension-Documentation/docs/getting-started">Tutorials and Examples</a></li><li class="menu__list-item"><a class="menu__link" href="/Verse-Extension-Documentation/docs/faq">FAQ</a></li><li class="menu__list-item"><a class="menu__link" href="/Verse-Extension-Documentation/docs/resources">Resources</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/Verse-Extension-Documentation/docs/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/Verse-Extension-Documentation/docs/your-first-application">Your First Application</a></li><li class="menu__list-item"><a class="menu__link" href="/Verse-Extension-Documentation/docs/custom-name-picker">Custom Name Picker</a></li><li class="menu__list-item"><a class="menu__link" href="/Verse-Extension-Documentation/docs/hook-before-send">Hook Before Send</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/Verse-Extension-Documentation/docs/modify-on-send">Modify On Send</a></li><li class="menu__list-item"><a class="menu__link" href="/Verse-Extension-Documentation/docs/live-text-widget">Live Text Widget</a></li><li class="menu__list-item"><a class="menu__link" href="/Verse-Extension-Documentation/docs/third-party-chat">Third Party Chat</a></li><li class="menu__list-item"><a class="menu__link" href="/Verse-Extension-Documentation/docs/third-party-file-repository">Third Party File Repository</a></li><li class="menu__list-item"><a class="menu__link" href="/Verse-Extension-Documentation/docs/directory-search-extension">Directory Search Extension</a></li><li class="menu__list-item"><a class="menu__link" href="/Verse-Extension-Documentation/docs/css-extension">CSS Extension</a></li><li class="menu__list-item"><a class="menu__link" href="/Verse-Extension-Documentation/docs/navigation-bar-extension">Navigation Bar Extension</a></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Modify On Send</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="with-an-user-interface"></a>With an User Interface<a aria-hidden="true" tabindex="-1" class="hash-link" href="#with-an-user-interface" title="Direct link to heading">#</a></h2><p>This sample application adds one extension to the <code>applications.json</code> extension array, a <strong><a href="/Verse-Extension-Documentation/docs/extension-points#modify-on-send">Modify On Send</a></strong> extension. You can use this extension to present the user with a UI as well as (optionally) modify the message before it is sent.</p><p>View this extension&#x27;s source **<a href="https://github.com/HCL-TECH-SOFTWARE/Verse-Extension-samples/tree/master/src/modify-on-send/with-ui" target="_blank" rel="noopener noreferrer">here</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="add-the-extension"></a>Add the Extension<a aria-hidden="true" tabindex="-1" class="hash-link" href="#add-the-extension" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ModifyOnSend&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ModifyOnSend&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    description</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;This sample demonstrates using the ModifyOnSend extension point&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    extensions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Modify on Send&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;com.ibm.verse.ext.modifyOnSend&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Modify the contents of mail&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        payload</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token dom variable" style="color:rgb(191, 199, 213)">location</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;embedded&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          pattern</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;\\[(PROTECTED|PRIVATE|CLASSIFIED|SECRET)\\](\\s*)&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${extensionPath}/modify-on-send/with-ui/index.html&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    services</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Verse&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="extension-properties"></a>Extension Properties<a aria-hidden="true" tabindex="-1" class="hash-link" href="#extension-properties" title="Direct link to heading">#</a></h4><table><thead><tr><th align="center">Property</th><th align="center">Type</th><th align="center">Definition</th></tr></thead><tbody><tr><td align="center">name</td><td align="center"><code>string</code></td><td align="center">The name of the extension</td></tr><tr><td align="center">type</td><td align="center"><code>string</code></td><td align="center">The extension point (<a href="/Verse-Extension-Documentation/docs/extension-points">List of Extension Points</a>)</td></tr><tr><td align="center">title</td><td align="center"><code>string</code></td><td align="center">The title of the extension</td></tr><tr><td align="center">location</td><td align="center"><code>string</code></td><td align="center">embedded - Indicates that the extension will render a UI</td></tr><tr><td align="center">pattern</td><td align="center"><code>string</code></td><td align="center">A regex to limit what subject modifications the extension can make</td></tr><tr><td align="center">url</td><td align="center"><code>string</code></td><td align="center">The fully-qualified URL of your application</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="test-it-out"></a>Test it out<a aria-hidden="true" tabindex="-1" class="hash-link" href="#test-it-out" title="Direct link to heading">#</a></h3><div class="expandable-container"><img tabindex="0" class="image" src="/Verse-Extension-Documentation/samples/modify-on-send-with-ui.gif"></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="how-it-works"></a>How it Works<a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-it-works" title="Direct link to heading">#</a></h3><p>This <strong><a href="/Verse-Extension-Documentation/docs/extension-points#modify-on-send">Modify On Send</a></strong> extension example prompts the user to add a classificiation to the subject of each email being sent. Additionally, this extension appends a signature to the end of the message body. This can be useful to inject a disclaimer at the end of each message being sent.</p><p>The extension leverages the <strong><a href="/Verse-Extension-Documentation/docs/extension-data-api#mail-compose">Mail Compose data api</a></strong>, Thus, the sample web application has access to the mail&#x27;s data context. The script, <code>modify-on-send/with-ui/script.js</code>, handles the cross-document messaging <em>handshake</em> to let Verse know that the extension is ready to receive data. When the sample web application receives a message event with the <code>verseApiType</code> of <code>com.ibm.verse.message.modify.mail</code> the data context is there as well. As always, it is good practice to confirm the <code>actionId</code> to ensure the data you recieve is coming from the correct action; the <code>actionId</code> is <code>com.ibm.verse.ext.action.modifyOnSend</code>.</p><p>For this tutorial, the user is presented with a simple UI that allows the user to pick from a list of classifications, or the user can choose to skip classifying the message. Once the user picks a selection, the selected classification is appended to the beginning of the original subject.</p><p>This extension specified a <code>pattern</code> which will restrict the modifications that can be made to the subject. There is one classification option that is not part of the acceptable pattern. If the user makes this selection, the message&#x27;s subject will not be updated and the message will not be sent. If the user picks a valid classification, then the pattern check will indicate to Verse that the subject should be modified before the message is sent.</p><p>This extension also appends a simple sentence to the end of the mail message&#x27;s body. This could be leveraged to automatically append a disclaimer statement at the end of all outgoing messages.</p><p>If the user selects to send the message without modifications, the message will be sent without any modifications having been made.</p><p>Since this is an embedded extension, the extension will not be automatically terminated after a period of time. This allows the end user ample time to interact with the UI being presented.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="without-an-user-interface"></a>Without an User Interface<a aria-hidden="true" tabindex="-1" class="hash-link" href="#without-an-user-interface" title="Direct link to heading">#</a></h2><p>This sample application adds one extension to the <code>applications.json</code> extension array, a <strong><a href="/Verse-Extension-Documentation/docs/extension-points#modify-on-send">Modify On Send</a></strong> extension. You can use this extension to modify a message before it is sent, without presenting a UI to the end user..</p><p>View this extension&#x27;s source <strong><a href="https://github.com/HCL-TECH-SOFTWARE/Verse-Extension-samples/tree/master/src/modify-on-send/no-ui" target="_blank" rel="noopener noreferrer">here</a></strong>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="add-the-extension-1"></a>Add the Extension<a aria-hidden="true" tabindex="-1" class="hash-link" href="#add-the-extension-1" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ModifyOnSend&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ModifyOnSend&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    description</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;This sample demonstrates using the ModifyOnSend extension point&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    extensions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Modify on Send&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;com.ibm.verse.ext.modifyOnSend&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Modify the contents of mail&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        payload</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${extensionPath}/modify-on-send/no-ui/index.html&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    services</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Verse&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="extension-properties-1"></a>Extension Properties<a aria-hidden="true" tabindex="-1" class="hash-link" href="#extension-properties-1" title="Direct link to heading">#</a></h4><table><thead><tr><th align="center">Property</th><th align="center">Type</th><th align="center">Definition</th></tr></thead><tbody><tr><td align="center">name</td><td align="center"><code>string</code></td><td align="center">The name of the extension</td></tr><tr><td align="center">type</td><td align="center"><code>string</code></td><td align="center">The extension point (<a href="/Verse-Extension-Documentation/docs/extension-points">List of Extension Points</a>)</td></tr><tr><td align="center">title</td><td align="center"><code>string</code></td><td align="center">The title of the extension</td></tr><tr><td align="center">url</td><td align="center"><code>string</code></td><td align="center">The fully-qualified URL of your application</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="test-it-out-1"></a>Test it out<a aria-hidden="true" tabindex="-1" class="hash-link" href="#test-it-out-1" title="Direct link to heading">#</a></h3><div class="expandable-container"><img tabindex="0" class="image" src="/Verse-Extension-Documentation/samples/modify-on-send-no-ui.gif"></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="how-it-works-1"></a>How it Works<a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-it-works-1" title="Direct link to heading">#</a></h3><p>This <strong><a href="/Verse-Extension-Documentation/docs/extension-points#modify-on-send">Modify On Send</a></strong> extension example modifies the subject of each email being sent without presenting any UI to the end user. Additionally, this extension appends a signature to the end of the message body. This can be useful to inject a disclaimer at the end of each message being sent.</p><p>The extension leverages the <strong><a href="/Verse-Extension-Documentation/docs/extension-data-api#mail-compose">Mail Compose data api</a></strong>. Thus, the sample web application has access to the mail&#x27;s data context. The script, <code>modify-on-send/with-ui/script.js</code>, handles the cross-document messaging <em>handshake</em> to let Verse know that the extension is ready to receive data. When the sample web application receives a message event with the <code>verseApiType</code> of <code>com.ibm.verse.message.modify.mail</code> the data context is there as well. As always, it is good practice to confirm the <code>actionId</code> to ensure the data you recieve is coming from the correct action; the <code>actionId</code> is <code>com.ibm.verse.ext.action.modifyOnSend</code>.</p><p>For this tutorial, the extension will ignore messages being sent with the string <code>&quot;MODIFYONSEND&quot;</code> in the subject. If the subject does not contain <code>&quot;MODIFYONSEND&quot;</code>, then the extension will modify the subject of the message to prepend <code>&quot;[MODIFIED SUBJECT] &quot;</code> to the original subject.</p><p>This extension does not specify a <code>pattern</code>. Therefore, the only restriction for the modified subject is that the modified subject must contain the original subject. This is due to the <code>modifiedSubjectMustContainOriginalSubject</code> property having a default value of <code>true</code>.</p><p>This extension also appends a simple sentence to the end of the mail message&#x27;s body. This could be leveraged to automatically append a disclaimer statement at the end of all outgoing messages.</p><p>Once the extension has responded to Verse with <code>com.ibm.verse.message.modify.mail</code> or <code>com.ibm.verse.message.continue.send</code> verseApiType (depending on whether or not the original subject contained <code>MODIFYONSEND</code>), the extension will be terminated by Verse and modifications will be handled appropriately based on the properties of the extension.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Verse-Extension-Documentation/docs/hook-before-send"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Hook Before Send</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Verse-Extension-Documentation/docs/live-text-widget"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Live Text Widget »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#with-an-user-interface" class="table-of-contents__link">With an User Interface</a><ul><li><a href="#add-the-extension" class="table-of-contents__link">Add the Extension</a></li><li><a href="#test-it-out" class="table-of-contents__link">Test it out</a></li><li><a href="#how-it-works" class="table-of-contents__link">How it Works</a></li></ul></li><li><a href="#without-an-user-interface" class="table-of-contents__link">Without an User Interface</a><ul><li><a href="#add-the-extension-1" class="table-of-contents__link">Add the Extension</a></li><li><a href="#test-it-out-1" class="table-of-contents__link">Test it out</a></li><li><a href="#how-it-works-1" class="table-of-contents__link">How it Works</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/Verse-Extension-Documentation/styles.01ac276e.js"></script>
<script src="/Verse-Extension-Documentation/runtime~main.cc8656d6.js"></script>
<script src="/Verse-Extension-Documentation/main.07577cd7.js"></script>
<script src="/Verse-Extension-Documentation/1.3a0be603.js"></script>
<script src="/Verse-Extension-Documentation/2.6e56d22d.js"></script>
<script src="/Verse-Extension-Documentation/30.aaa63450.js"></script>
<script src="/Verse-Extension-Documentation/31.6d8972bd.js"></script>
<script src="/Verse-Extension-Documentation/2e928210.9ef936af.js"></script>
<script src="/Verse-Extension-Documentation/17896441.5e24f860.js"></script>
<script src="/Verse-Extension-Documentation/660c643c.f2248d14.js"></script>
</body>
</html>